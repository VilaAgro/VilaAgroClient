/* Variáveis de Layout */
$sidebar-width: 250px;
$toolbar-height: 60px;
$primary-color: #4caf50;
$primary-text: #ffffff;
$sidebar-bg: #ffffff;
$sidebar-border: #dee2e6;
$content-bg: #f8f9fa; // Fundo mais suave

$toolbar-bg: #ffffff;
$toolbar-border: #e9ecef; // Borda sutil
$toolbar-text: #343a40; // Texto escuro
$toolbar-shadow: 0 2px 4px rgba(0, 0, 0, 0.04); // Sombra moderna

/* Toolbar Superior (Sem alterações, já estava boa) */
:host ::ng-deep .admin-toolbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: $toolbar-height;
  z-index: 1001;
  padding: 0 1.5rem; // Espaçamento interno

  // A MUDANÇA PRINCIPAL
  background-color: $toolbar-bg;
  color: $toolbar-text;
  border-bottom: 1px solid $toolbar-border;
  box-shadow: $toolbar-shadow;
  border-radius: 0;

  .p-toolbar-group-start,
  .p-toolbar-group-end {
    display: flex;
    align-items: center;
    gap: 0.75rem; // Leve aumento no gap
  }

  .toolbar-logo {
    // Estilo para o logo na barra
    height: 35px;
  }

  .logo-text {
    font-size: 1.25rem;
    font-weight: 600; // Um pouco menos pesado que 'bold'
    color: $toolbar-text; // Cor escura
  }

  .menu-button {
    // Botão de menu
    color: $toolbar-text !important; // Cor escura
    &:hover {
      background-color: #f4f4f4 !important; // Fundo cinza claro no hover
    }
  }

  .welcome-text {
    font-size: 0.9rem;
    color: #495057; // Cinza escuro
    margin-right: 0.5rem;
  }

  // Estilo para o Avatar
  .user-avatar {
    background-color: $primary-color; // Fundo verde
    color: $primary-text; // Iniciais brancas
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;

    &:hover {
      opacity: 0.85;
      transform: scale(1.05);
    }
  }

  // Remove o botão de logout antigo
  .logout-button {
    display: none;
  }
}

/* Sidebar (p-drawer) */
:host ::ng-deep .admin-sidebar {
  &.p-drawer-static {
    top: $toolbar-height !important; // Alinha com a nova altura
    height: calc(100vh - #{$toolbar-height}) !important;
    z-index: 1000;
    box-shadow: none;
    border-right: 1px solid $sidebar-border;
    transition: transform 0.3s ease; // Mantém a transição
  }

  // Estilo para o modo MOBILE (modal)
  &.p-drawer-modal {
    z-index: 1100; // Deve ficar acima de tudo
    background-color: $sidebar-bg;

    .p-drawer-header {
      padding-bottom: 0;
      border-bottom: 1px solid $sidebar-border;
    }
  }

  // --- Estilos internos (header, menu) ---
  // Seu CSS original estava ótimo aqui

  .p-drawer-content {
    padding: 0;
  }

  .sidebar-header {
    display: flex;
    align-items: center;
    padding: 1.25rem;
    gap: 0.75rem;

    img {
      height: 40px;
    }
    h3 {
      margin: 0;
      font-size: 1.2rem;
      color: #333;
    }
  }

  .admin-menu {
    width: 100% !important;
    border: none;
    background: transparent;
    padding: 0.5rem;

    .p-menuitem-link {
      color: #495057;
      border-radius: 6px;
      &:hover {
        background: #f0f0f0;
      }
    }

    .p-menuitem.p-focus > .p-menuitem-link {
      background: #e9ecef;
    }

    .p-submenu-header {
      font-size: 0.85rem;
      font-weight: 600;
      color: #6c757d;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: 1rem;
    }
  }
}

/* Container do Conteúdo Principal */
.admin-content {
  background-color: $content-bg;
  min-height: 100vh;
  padding: 1.5rem;
  padding-top: calc(#{$toolbar-height} + 1.5rem); // Alinha com a nova altura
  box-sizing: border-box;
  transition: margin-left 0.3s ease; // Mesma transição do drawer

  // Estado padrão (mobile ou desktop com drawer fechado)
  margin-left: 0;

  // Estado desktop com drawer aberto
  &.sidebar-visible {
    margin-left: $sidebar-width;
  }
}

// Media query para garantir que em telas pequenas o conteúdo sempre ocupe 100%
@media (max-width: 960px) {
  .admin-content {
    margin-left: 0 !important; // Remove o margin-left em telas pequenas
  }
}

.toolbar-logo {
  height: 40px;
  width: auto;
}
